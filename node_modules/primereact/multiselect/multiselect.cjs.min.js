"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("primereact/api"),n=require("primereact/componentbase"),l=require("primereact/hooks"),r=require("primereact/icons/chevrondown"),i=require("primereact/icons/spinner"),o=require("primereact/icons/times"),a=require("primereact/icons/timescircle"),c=require("primereact/overlayservice"),u=require("primereact/tooltip"),s=require("primereact/utils"),p=require("primereact/csstransition"),f=require("primereact/portal"),d=require("primereact/virtualscroller"),m=require("primereact/icons/check"),b=require("primereact/icons/search"),v=require("primereact/inputtext"),h=require("primereact/ripple");function y(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var l=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var O=g(e),x=y(t);function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},I.apply(null,arguments)}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function S(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var l=n.call(e,t||"default");if("object"!=E(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function k(e){var t=S(e,"string");return"symbol"==E(t)?t:t+""}function w(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=Array(t);n<t;n++)l[n]=e[n];return l}function D(e){if(Array.isArray(e))return j(e)}function C(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function N(e,t){if(e){if("string"==typeof e)return j(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function P(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(e){throw new TypeError('"'+e+'" is read-only')}function U(e){if(Array.isArray(e))return e}function L(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var l,r,i,o,a=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(l=i.call(n)).done)&&(a.push(l.value),a.length!==t);c=!0);}catch(e){u=!0,r=e}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return a}}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t){return U(e)||L(e,t)||N(e,t)||A()}var T=n.ComponentBase.extend({defaultProps:{__TYPE:"MultiSelect",appendTo:null,ariaLabelledBy:null,checkboxIcon:null,className:null,clearIcon:null,closeIcon:null,dataKey:null,disabled:!1,display:"comma",dropdownIcon:null,emptyFilterMessage:null,emptyMessage:null,filter:!1,filterBy:null,filterDelay:300,filterInputAutoFocus:!0,filterLocale:void 0,selectOnFocus:!1,focusOnHover:!0,autoOptionFocus:!1,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,fixedPlaceholder:!1,flex:!1,id:null,inline:!1,inputId:null,inputRef:null,invalid:!1,variant:null,itemCheckboxIcon:null,itemClassName:null,itemTemplate:null,loading:!1,loadingIcon:null,maxSelectedLabels:null,name:null,onBlur:null,onChange:null,onClick:null,onFilter:null,onFocus:null,onHide:null,onRemove:null,onSelectAll:null,onShow:null,optionDisabled:null,optionGroupChildren:null,optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,optionValue:null,options:null,overlayVisible:!1,panelClassName:null,panelFooterTemplate:null,panelHeaderTemplate:null,panelStyle:null,placeholder:null,removeIcon:null,resetFilterOnHide:!1,scrollHeight:"200px",selectAll:!1,selectAllLabel:null,selectedItemTemplate:null,selectedItemsLabel:void 0,selectionLimit:null,showClear:!1,showSelectAll:!0,style:null,tabIndex:0,tooltip:null,tooltipOptions:null,transitionOptions:null,useOptionAsValue:!1,value:null,virtualScrollerOptions:null,children:void 0},css:{classes:{root:function(e){var t,n=e.props,l=e.context,r=e.focusedState,i=e.overlayVisibleState;return s.classNames("p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":"chip"===n.display&&(null==n.maxSelectedLabels||(null===(t=n.value)||void 0===t?void 0:t.length)<=n.maxSelectedLabels),"p-disabled":n.disabled,"p-invalid":n.invalid,"p-variant-filled":n.variant?"filled"===n.variant:l&&"filled"===l.inputStyle,"p-multiselect-clearable":n.showClear&&!n.disabled,"p-focus":r,"p-inputwrapper-filled":s.ObjectUtils.isNotEmpty(n.value),"p-inputwrapper-focus":r||i})},label:function(e){var t,n=e.props,l=e.empty;return s.classNames("p-multiselect-label",{"p-placeholder":l&&n.placeholder,"p-multiselect-label-empty":l&&!n.placeholder&&!n.selectedItemTemplate,"p-multiselect-items-label":!l&&"chip"!==n.display&&(null===(t=n.value)||void 0===t?void 0:t.length)>n.maxSelectedLabels})},panel:function(e){var t=e.panelProps,n=e.context;return s.classNames("p-multiselect-panel p-component",{"p-multiselect-inline":t.inline,"p-multiselect-flex":t.flex,"p-multiselect-limited":!e.allowOptionSelect,"p-input-filled":n&&"filled"===n.inputStyle||"filled"===x.default.inputStyle,"p-ripple-disabled":n&&!1===n.ripple||!1===x.default.ripple})},list:function(e){return"p-multiselect-items p-component"},labelContainer:"p-multiselect-label-container",triggerIcon:"p-multiselect-trigger-icon p-c",trigger:"p-multiselect-trigger",clearIcon:"p-multiselect-clear-icon",tokenLabel:"p-multiselect-token-label",token:"p-multiselect-token",removeTokenIcon:"p-multiselect-token-icon",wrapper:"p-multiselect-items-wrapper",emptyMessage:"p-multiselect-empty-message",itemGroup:"p-multiselect-item-group",closeButton:"p-multiselect-close p-link",header:"p-multiselect-header",closeIcon:"p-multiselect-close-icon",headerCheckboxContainer:"p-multiselect-select-all",headerCheckboxIcon:"p-multiselect-select-all p-checkbox-icon p-c",headerSelectAllLabel:"p-multiselect-select-all-label",filterContainer:"p-multiselect-filter-container",filterIcon:"p-multiselect-filter-icon",item:function(e){var t=e.itemProps;return s.classNames("p-multiselect-item",{"p-highlight":t.selected,"p-disabled":t.disabled,"p-focus":t.focusedOptionIndex===t.index})},checkboxContainer:"p-multiselect-checkbox",checkboxIcon:"p-checkbox-icon p-c",transition:"p-connected-overlay"},styles:"\n@layer primereact {\n    .p-multiselect {\n        display: inline-flex;\n        user-select: none;\n        cursor: pointer;\n    }\n    \n    .p-multiselect-trigger {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-shrink: 0;\n        cursor: pointer;\n    }\n    \n    .p-multiselect-label-container {\n        overflow: hidden;\n        flex: 1 1 auto;\n        cursor: pointer;\n    }\n    \n    .p-multiselect-label  {\n        display: block;\n        white-space: nowrap;\n        cursor: pointer;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n    \n    .p-multiselect-label-empty {\n        overflow: hidden;\n        visibility: hidden;\n    }\n    \n    .p-multiselect-token {\n        cursor: default;\n        display: inline-flex;\n        align-items: center;\n        flex: 0 0 auto;\n    }\n    \n    .p-multiselect-token-icon {\n        cursor: pointer;\n    }\n    \n    .p-multiselect .p-multiselect-panel {\n        min-width: 100%;\n    }\n    \n    .p-multiselect-inline.p-multiselect-panel {\n        border: none;\n        position: initial;\n        background: none;\n        box-shadow: none;\n    }\n    \n    .p-multiselect-inline.p-multiselect-panel .p-multiselect-items {\n        padding: 0;\n    }\n    \n    .p-multiselect-flex.p-multiselect-panel .p-multiselect-items {\n        display: flex;\n        flex-wrap: wrap;\n    }\n    \n    .p-multiselect-items-wrapper {\n        overflow: auto;\n    }\n    \n    .p-multiselect-items {\n        margin: 0;\n        padding: 0;\n        list-style-type: none;\n    }\n    \n    .p-multiselect-item {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        font-weight: normal;\n        white-space: nowrap;\n        position: relative;\n        overflow: hidden;\n        outline: none;\n    }\n    \n    .p-multiselect-header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n    }\n    \n    .p-multiselect-select-all-label {\n        margin-left: 0.5rem;\n    }\n    \n    .p-multiselect-filter-container {\n        position: relative;\n        flex: 1 1 auto;\n    }\n    \n    .p-multiselect-filter-icon {\n        position: absolute;\n        top: 50%;\n        margin-top: -.5rem;\n    }\n    \n    .p-multiselect-filter-container .p-inputtext {\n        width: 100%;\n    }\n    \n    .p-multiselect-close {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-shrink: 0;\n        overflow: hidden;\n        position: relative;\n        margin-left: auto;\n    }\n    \n    .p-multiselect-clear-icon {\n        position: absolute;\n        top: 50%;\n        margin-top: -.5rem;\n        right: 3rem;\n    }\n    \n    .p-fluid .p-multiselect {\n        display: flex;\n    }\n}\n",inlineStyles:{root:function(e){var t=e.props;return t.showClear&&!t.disabled&&{position:"relative"}},itemGroup:function(e){var t=e.scrollerOptions;return{height:t.props?t.props.itemSize:void 0}}}}}),R=n.ComponentBase.extend({defaultProps:{__TYPE:"Checkbox",autoFocus:!1,checked:!1,className:null,disabled:!1,falseValue:!1,icon:null,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,name:null,onChange:null,onContextMenu:null,onMouseDown:null,readOnly:!1,required:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,value:null,children:void 0},css:{classes:{box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon",root:function(e){var t=e.props,n=e.context;return s.classNames("p-checkbox p-component",{"p-highlight":e.checked,"p-disabled":t.disabled,"p-invalid":t.invalid,"p-variant-filled":t.variant?"filled"===t.variant:n&&"filled"===n.inputStyle})}}}});function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=O.memo(O.forwardRef((function(e,r){var i=l.useMergeProps(),o=O.useContext(t.PrimeReactContext),a=R.getProps(e,o),c=M(O.useState(!1),2),p=c[1],f=R.setMetaData({props:a,state:{focused:c[0]},context:{checked:a.checked===a.trueValue,disabled:a.disabled}}),d=f.ptm,b=f.cx;n.useHandleStyle(R.css.styles,f.isUnstyled,{name:"checkbox"});var v=O.useRef(null),h=O.useRef(a.inputRef),y=function(){return a.checked===a.trueValue},g=function(e){if(!a.disabled&&!a.readOnly&&a.onChange){var t,n=y()?a.falseValue:a.trueValue;if(null==a||null===(t=a.onChange)||void 0===t||t.call(a,{originalEvent:e,value:a.value,checked:n,stopPropagation:function(){null==e||e.stopPropagation()},preventDefault:function(){null==e||e.preventDefault()},target:{type:"checkbox",name:a.name,id:a.id,value:a.value,checked:n}}),e.defaultPrevented)return;s.DomHandler.focus(h.current)}};O.useImperativeHandle(r,(function(){return{props:a,focus:function(){return s.DomHandler.focus(h.current)},getElement:function(){return v.current},getInput:function(){return h.current}}})),O.useEffect((function(){s.ObjectUtils.combinedRefs(h,a.inputRef)}),[h,a.inputRef]),l.useUpdateEffect((function(){h.current.checked=y()}),[a.checked,a.trueValue]),l.useMountEffect((function(){a.autoFocus&&s.DomHandler.focus(h.current,a.autoFocus)}));var x,E,S,k,w,j=y(),D=s.ObjectUtils.isNotEmpty(a.tooltip),C=R.getOtherProps(a),N=i({id:a.id,className:s.classNames(a.className,b("root",{checked:j,context:o})),style:a.style,"data-p-highlight":j,"data-p-disabled":a.disabled,onContextMenu:a.onContextMenu,onMouseDown:a.onMouseDown},C,d("root"));return O.createElement(O.Fragment,null,O.createElement("div",I({ref:v},N),(k=s.ObjectUtils.reduceKeys(C,s.DomHandler.ARIA_PROPS),w=i(V({id:a.inputId,type:"checkbox",className:b("input"),name:a.name,tabIndex:a.tabIndex,onFocus:function(e){return t=e,p(!0),void(null==a||null===(n=a.onFocus)||void 0===n||n.call(a,t));var t,n},onBlur:function(e){return t=e,p(!1),void(null==a||null===(n=a.onBlur)||void 0===n||n.call(a,t));var t,n},onChange:function(e){return g(e)},disabled:a.disabled,readOnly:a.readOnly,required:a.required,"aria-invalid":a.invalid,checked:j},k),d("input")),O.createElement("input",I({ref:h},w))),(x=i({className:b("icon")},d("icon")),E=i({className:b("box",{checked:j}),"data-p-highlight":j,"data-p-disabled":a.disabled},d("box")),S=s.IconUtils.getJSXIcon(j?a.icon||O.createElement(m.CheckIcon,x):null,V({},x),{props:a,checked:j}),O.createElement("div",E,S))),D&&O.createElement(u.Tooltip,I({target:v,content:a.tooltip,pt:d("tooltip")},a.tooltipOptions)))})));function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}K.displayName="Checkbox";var B=O.memo((function(e){var n=l.useMergeProps(),r=e.ptm,i=e.cx,a=e.isUnstyled,c={filter:function(e){return p(e)},reset:function(){return e.resetFilter()}},u=function(t,n){return r(t,G({hostName:e.hostName},n))},p=function(t){e.onFilter&&e.onFilter({originalEvent:t,query:t.target.value})},f=function(t){if(e.onSelectAll)e.onSelectAll({originalEvent:t,checked:e.selectAll});else{var n=e.isAllSelected()?[]:e.visibleOptions.filter((function(t){return e.isValidOption(t)})).map((function(t){return e.getOptionValue(t)}));e.updateModel(t,n,n)}},d=function(){var t=n({className:i("filterIcon")},u("filterIcon")),l=s.IconUtils.getJSXIcon(e.filterIcon||O.createElement(b.SearchIcon,t),G({},t),{props:e});if(e.filter){var o=n({className:i("filterContainer")},u("filterContainer")),a=O.createElement("div",o,O.createElement(v.InputText,{ref:e.filterRef,type:"text",role:"searchbox",value:e.filterValue,onChange:p,onKeyDown:e.onFilterKeyDown,className:"p-multiselect-filter",placeholder:e.filterPlaceholder,pt:r("filterInput"),unstyled:e.unstyled,__parentMetadata:{parent:e.metaData}}),l);if(e.filterTemplate)a=s.ObjectUtils.getJSXElement(e.filterTemplate,{className:o.className,element:a,filterOptions:c,onFilter:p,filterInputKeyDown:e.onFilterKeyDown,filterIconClassName:e.filterIconClassName,props:e});return O.createElement(O.Fragment,null,a)}return null}(),y=e.id?e.id+"_selectall":s.UniqueComponentId(),g=n({htmlFor:y,className:i("headerSelectAllLabel")},u("headerSelectAllLabel")),x=n({className:i("headerCheckboxIcon")},u("headerCheckbox.icon")),I=n({className:i("headerCheckboxContainer")},u("headerCheckboxContainer")),E=s.IconUtils.getJSXIcon(e.itemCheckboxIcon||O.createElement(m.CheckIcon,x),G({},x),{selected:e.selected}),S=e.showSelectAll&&O.createElement("div",I,O.createElement(K,{id:y,checked:e.selectAll,onChange:f,role:"checkbox","aria-checked":e.selectAll,icon:E,pt:r("headerCheckbox"),unstyled:a()}),!e.filter&&O.createElement("label",g,e.selectAllLabel)),k=n({className:i("closeIcon"),"aria-hidden":!0},u("closeIcon")),w=s.IconUtils.getJSXIcon(e.closeIcon||O.createElement(o.TimesIcon,k),G({},k),{props:e}),j=n({className:i("header")},u("header")),D=n({type:"button",className:i("closeButton"),"aria-label":t.ariaLabel("close"),onClick:e.onClose},u("closeButton")),C=O.createElement("button",D,w,O.createElement(h.Ripple,null)),N=O.createElement("div",j,S,d,C);return e.template?s.ObjectUtils.getJSXElement(e.template,{className:"p-multiselect-header",checkboxElement:S,checked:e.selectAll,onChange:f,filterElement:d,closeElement:C,closeElementClassName:"p-multiselect-close p-link",closeIconClassName:"p-multiselect-close-icon",onCloseClick:e.onClose,element:N,itemCheckboxIcon:E,props:e}):N}));function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}B.displayName="MultiSelectHeader";var _=O.memo((function(e){var t=M(O.useState(!1),2),n=t[0],r=t[1],i=O.useRef(null),o=l.useMergeProps(),a=e.ptm,c=e.cx,u=e.isUnstyled,p=function(t){return a(t,{hostName:e.hostName,context:{selected:e.selected,disabled:e.disabled,focused:n,focusedIndex:e.focusedIndex,index:e.index}})},f=o({className:c("checkboxIcon")},p("checkbox.icon")),d=e.selected?s.IconUtils.getJSXIcon(e.checkboxIcon||O.createElement(m.CheckIcon,f),X({},f),{selected:e.selected}):null,b=e.template?s.ObjectUtils.getJSXElement(e.template,e.option):e.label,v=o({className:c("checkboxContainer")},p("checkboxContainer")),y=o({className:s.classNames(e.className,e.option.className,c("item",{itemProps:e})),style:e.style,onClick:function(t){e.onClick&&e.onClick(t,e.option),t.preventDefault(),t.stopPropagation()},onFocus:function(e){var t;r(!0),null==i||null===(t=i.current)||void 0===t||t.getInput().focus()},onBlur:function(e){r(!1)},onMouseMove:function(t){return null==e?void 0:e.onMouseMove(t,e.index)},role:"option","aria-selected":e.selected,"data-p-highlight":e.selected,"data-p-disabled":e.disabled},p("item"));return O.createElement("li",y,O.createElement("div",v,O.createElement(K,{ref:i,checked:e.selected,icon:d,pt:a("checkbox"),unstyled:u(),tabIndex:-1})),O.createElement("span",null,b),O.createElement(h.Ripple,null))}));function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}_.displayName="MultiSelectItem";var Z=O.memo(O.forwardRef((function(e,n){var r=O.useRef(null),i=O.useRef(null),o=l.useMergeProps(),a=O.useContext(t.PrimeReactContext),c=e.ptm,u=e.cx,m=e.sx,b=e.isUnstyled,v=function(t,n){return c(t,W({hostName:e.hostName},n))},h=function(){e.onEnter((function(){if(r.current){var t=e.getSelectedOptionIndex();-1!==t&&setTimeout((function(){return r.current.scrollToIndex(t)}),0)}}))},y=function(){e.onEntered((function(){e.filter&&e.filterInputAutoFocus&&i.current&&s.DomHandler.focus(i.current,!1)}))},g=function(t){r.current&&r.current.scrollToIndex(0),e.onFilterInputChange&&e.onFilterInputChange(t)},x=function(){if(e.panelFooterTemplate){var t=s.ObjectUtils.getJSXElement(e.panelFooterTemplate,e,e.onOverlayHide);return O.createElement("div",{className:"p-multiselect-footer"},t)}return null},E=function(t,n){var l;e.focusOnHover&&(null==e||null===(l=e.changeFocusedOptionIndex)||void 0===l||l.call(e,t,n))},S=function(){var n=s.ObjectUtils.getJSXElement(e.emptyFilterMessage,e)||t.localeOption("emptyFilterMessage"),l=o({className:u("emptyMessage")},v("emptyMessage"));return O.createElement("li",I({},l,{key:"emptyFilterMessage"}),n)},k=function(t,n){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={height:l.props?l.props.itemSize:void 0};if(!0===t.group&&e.optionGroupLabel){var i=e.optionGroupTemplate?s.ObjectUtils.getJSXElement(e.optionGroupTemplate,t,n):e.getOptionGroupLabel(t),a=n+"_"+e.getOptionGroupRenderKey(t),p=o({className:u("itemGroup"),style:m("itemGroup",{scrollerOptions:l})},v("itemGroup"));return O.createElement("li",I({key:a},p),i)}var f=e.getOptionLabel(t),d=n+"_"+e.getOptionRenderKey(t),h=e.isOptionDisabled(t),y=e.isSelected(t);return O.createElement(_,{hostName:e.hostName,key:d,focusedOptionIndex:e.focusedOptionIndex,label:f,option:t,style:r,index:n,template:e.itemTemplate,selected:y,onClick:e.onOptionSelect,onMouseMove:E,disabled:h,className:e.itemClassName,checkboxIcon:e.checkboxIcon,isUnstyled:b,ptm:c,cx:u})},w=function(){if(e.virtualScrollerOptions){var n=W(W({},e.virtualScrollerOptions),{style:W(W({},e.virtualScrollerOptions.style),{height:e.scrollHeight}),className:s.classNames("p-multiselect-items-wrapper",e.virtualScrollerOptions.className),items:e.visibleOptions,autoSize:!0,onLazyLoad:function(t){return e.virtualScrollerOptions.onLazyLoad(W(W({},t),{filter:e.filterValue}))},itemTemplate:function(e,t){return e&&k(e,t.index,t)},contentTemplate:function(t){var n=e.visibleOptions&&e.visibleOptions.length||!e.hasFilter?t.children:S(),l=o({ref:t.contentRef,style:t.style,className:s.classNames(t.className,u("list",{virtualScrollerProps:e.virtualScrollerOptions})),role:"listbox","aria-multiselectable":!0},v("list"));return O.createElement("ul",l,n)}});return O.createElement(d.VirtualScroller,I({ref:r},n,{pt:c("virtualScroller"),__parentMetadata:{parent:e.metaData}}))}var l,i,a=s.ObjectUtils.isNotEmpty(e.visibleOptions)?e.visibleOptions.map(k):e.hasFilter?S():(l=s.ObjectUtils.getJSXElement(e.emptyMessage,e)||t.localeOption("emptyMessage"),i=o({className:u("emptyMessage")},v("emptyMessage")),O.createElement("li",I({},i,{key:"emptyMessage"}),l)),p=o({className:u("wrapper"),style:{maxHeight:e.scrollHeight}},v("wrapper")),f=o({className:u("list"),role:"listbox","aria-multiselectable":!0},v("list"));return O.createElement("div",p,O.createElement("ul",f,a))},j=function(){var t=e.allowOptionSelect(),l=O.createElement(B,{hostName:e.hostName,id:e.id,filter:e.filter,filterRef:i,filterValue:e.filterValue,filterTemplate:e.filterTemplate,visibleOptions:e.visibleOptions,isValidOption:e.isValidOption,getOptionValue:e.getOptionValue,updateModel:e.updateModel,onFilter:g,onFilterKeyDown:e.onFilterKeyDown,filterPlaceholder:e.filterPlaceholder,onClose:e.onCloseClick,showSelectAll:e.showSelectAll,selectAll:e.isAllSelected(),selectAllLabel:e.selectAllLabel,onSelectAll:e.onSelectAll,template:e.panelHeaderTemplate,resetFilter:e.resetFilter,closeIcon:e.closeIcon,filterIcon:e.filterIcon,itemCheckboxIcon:e.itemCheckboxIcon,ptm:c,cx:u,isUnstyled:b,metaData:e.metaData}),r=w(),f=x(),d=o({className:s.classNames(e.panelClassName,u("panel",{panelProps:e,context:a,allowOptionSelect:t})),style:e.panelStyle,onClick:e.onClick,"data-pr-is-overlay":!0},v("panel"));if(e.inline)return O.createElement("div",I({ref:n},d),r,f);var m=o({classNames:u("transition"),in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,appear:!0,unmountOnExit:!0,onEnter:h,onEntered:y,onExit:e.onExit,onExited:e.onExited},v("transition")),E=o({ref:e.firstHiddenFocusableElementOnOverlay,role:"presentation",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:e.onFirstHiddenFocus,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},c("hiddenFirstFocusableEl")),S=o({ref:e.lastHiddenFocusableElementOnOverlay,role:"presentation",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:e.onLastHiddenFocus,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},c("hiddenLastFocusableEl"));return O.createElement(p.CSSTransition,I({nodeRef:n},m),O.createElement("div",I({ref:n},d),O.createElement("span",E),l,r,f,O.createElement("span",S)))}();return e.inline?j:O.createElement(f.Portal,{element:j,appendTo:e.appendTo})})));function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ee(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var l=0,r=function(){};return{s:r,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}function ee(e,t){if(e){if("string"==typeof e)return te(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=Array(t);n<t;n++)l[n]=e[n];return l}Z.displayName="MultiSelectPanel";var ne=O.memo(O.forwardRef((function(e,p){var f=l.useMergeProps(),d=O.useContext(t.PrimeReactContext),m=T.getProps(e,d),b=M(O.useState(null),2),v=b[0],h=b[1],y=M(O.useState(!1),2),g=y[0],E=y[1],S=M(l.useDebounce("",m.filterDelay||0),3),k=S[0],j=S[1],U=S[2],L=M(O.useState(-1),2),A=L[0],R=L[1],H=M(O.useState(!1),2),V=H[0],K=H[1],q=M(O.useState(m.inline),2),G=q[0],B=q[1],J=O.useRef(null),X=O.useRef(null),_=O.useRef(null),z=O.useRef(null),W=O.useRef(null),Y=O.useRef(m.inputRef),ee=O.useRef(null),te=O.useRef(null),ne=O.useRef(null),le=j&&j.trim().length>0,re=s.ObjectUtils.isEmpty(m.value),ie=m.optionValue?null:m.dataKey,oe={props:m,state:{filterState:j,focused:V,overlayVisible:G}},ae=T.setMetaData(oe),ce=ae.ptm,ue=ae.cx,se=ae.sx,pe=ae.isUnstyled;n.useHandleStyle(T.css.styles,pe,{name:"multiselect"});var fe=M(l.useOverlayListener({target:J,overlay:te,listener:function(e,t){t.valid&&("outside"===t.type?Ae(e)||Me(e)||Ue():d.hideOverlaysOnDocumentScrolling?Ue():s.DomHandler.isDocument(e.target)||Le())},when:G}),2),de=fe[0],me=fe[1],be=function(){return!m.selectionLimit||!m.value||m.value&&m.value.length<m.selectionLimit},ve=function(e){var t=ze()&&e<gt.length-1?gt.slice(e+1).findIndex((function(e){return $e(e)})):-1;return t>-1?t+e+1:-1},he=function(e){var t=ze()&&e>0?s.ObjectUtils.findLastIndex(gt.slice(0,e),(function(e){return $e(e)})):-1;return t>-1?t:-1},ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=-1;return ze()&&(n=t?-1===(n=he(e))?ve(e):n:-1===(n=ve(e))?he(e):n),n>-1?n:e},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===t&&(t=ye(n,!0)),-1===n&&(n=ye(t)),-1!==t&&-1!==n){var l=Math.min(t,n),r=Math.max(t,n),i=gt.slice(l,r+1).filter((function(e){return Ye(e)})).map((function(e){return Ge(e)}));Ce(e,i,i)}},Oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(!m.disabled&&!Je(t)){var l,r=null;r=He(t)?m.value.filter((function(e){return!s.ObjectUtils.equals(e,Ge(t),ie)})):[].concat(D(l=m.value||[])||C(l)||N(l)||P(),[Ge(t)]),Ce(e,r,t),-1!==n&&h(n)}},xe=function(e){if(G){var t=-1!==v?rt(v):g?nt():et();e.shiftKey&&ge(e,A,t),at(e,t)}else Fe(),m.editable&&at(e,Qe());e.preventDefault()},Ie=function(e){if(e.altKey&&!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))-1!==v&&Oe(e,gt[v]),G&&Ue(),e.preventDefault();else{var t=-1!==v?it(v):g?lt():tt();at(e,t),!G&&Fe(),e.preventDefault()}},Ee=function(e){G?-1!==v&&(e.shiftKey?ge(e,v):Oe(e,gt[v])):(h(-1),xe(e)),e.preventDefault()},Se=function(e){var t=e.currentTarget;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){t.setSelectionRange(0,e.shiftKey?t.value.length:0),h(-1)}else{var n=e.metaKey||e.ctrlKey,l=nt();e.shiftKey&&n&&ge(e,l,A),at(e,l),!G&&Fe()}e.preventDefault()},ke=function(e){var t=e.currentTarget;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var n=t.value.length;t.setSelectionRange(e.shiftKey?0:n,n),F("focusedOptionIndex")}else{var l=e.metaKey||e.ctrlKey,r=lt();e.shiftKey&&l&&ge(e,A,r),at(e,r),!G&&Fe()}e.preventDefault()},we=function(e){e.preventDefault()},je=function(e){e.preventDefault()},De=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(G&&We()?(s.DomHandler.focus(e.shiftKey?W.current:z.current),e.preventDefault()):(-1!==v&&Oe(e,gt[v]),G&&Ue(filter)))},Ce=function(e,t,n){m.onChange&&(m.onChange({originalEvent:e,value:t,selectedOption:n,stopPropagation:function(){null==e||e.stopPropagation()},preventDefault:function(){null==e||e.preventDefault()},target:{name:m.name,id:m.id,value:t}}),s.DomHandler.focus(Y.current))},Ne=function(){U(""),m.onFilter&&m.onFilter({filter:""})},Pe=function(e){var t;G&&((t=e?e.currentTarget:s.DomHandler.findSingle(te.current,'li[data-p-highlight="true"]'))&&t.scrollIntoView&&t.scrollIntoView({block:"nearest",inline:"nearest"}))},Fe=function(){B(!0),h(-1!==v?v:m.autoOptionFocus?et():Qe()),s.DomHandler.focus(Y.current)},Ue=function(){h(-1),B(!1),E(!1)},Le=function(){!m.inline&&s.DomHandler.alignOverlay(te.current,ee.current.parentElement,m.appendTo||d&&d.appendTo||x.default.appendTo)},Ae=function(e){return"clearicon"===s.DomHandler.getAttribute(e.target,"data-pc-section")},Me=function(e){return"headercheckboxcontainer"===s.DomHandler.getAttribute(e.target,"data-pc-section")},Te=function(e){return te.current&&te.current.contains(e.target)},Re=function(e,t){return t.findIndex((function(t){return e.some((function(e){return s.ObjectUtils.equals(e,Ge(t),ie)}))}))},He=function(e){if(m.value){var t=Ge(e),n=Xe(e);return m.value.some((function(e){return s.ObjectUtils.equals(n?e:Ge(e),t,ie)}))}return!1},Ve=function(e){var t;if(m.options)if(m.optionGroupLabel){var n,l=Q(m.options);try{for(l.s();!(n=l.n()).done;){if(t=Ke(e,Be(n.value)))break}}catch(e){l.e(e)}finally{l.f()}}else t=Ke(e,m.options),s.ObjectUtils.isEmpty(t)&&(t=Ke(e,m.value));return t?qe(t):null},Ke=function(e,t){return t.find((function(t){return s.ObjectUtils.equals(Ge(t),e,ie)}))},qe=function(e){return m.optionLabel?s.ObjectUtils.resolveFieldData(e,m.optionLabel):e&&void 0!==e.label?e.label:e},Ge=function(e){return m.useOptionAsValue?e:m.optionValue?s.ObjectUtils.resolveFieldData(e,m.optionValue):e&&void 0!==e.value?e.value:e},Be=function(e){return s.ObjectUtils.resolveFieldData(e,m.optionGroupChildren)},Je=function(e){var t;if(!be()&&!He(e))return!0;var n=m.optionDisabled;return n?s.ObjectUtils.isFunction(n)?n(e):s.ObjectUtils.resolveFieldData(e,n):e&&null!==(t=e.disabled)&&void 0!==t&&t},Xe=function(e){return!m.useOptionAsValue&&m.optionValue||e&&void 0!==e.value},_e=function(e){return m.optionGroupLabel&&e.group},ze=function(){return s.ObjectUtils.isNotEmpty(m.value)},We=function(){return s.DomHandler.getFocusableElements(te.current,':not([data-p-hidden-focusable="true"])').length>0},Ze=function(e){var t;return Ye(e)&&(null===(t=qe(e))||void 0===t?void 0:t.toLocaleLowerCase(m.filterLocale).startsWith(X.current.toLocaleLowerCase(m.filterLocale)))},Ye=function(e){return s.ObjectUtils.isNotEmpty(e)&&!(Je(e)||_e(e))},$e=function(e){return Ye(e)&&He(e)},Qe=function(){if(ze())for(var e,t=function(){var e=m.value[n],t=gt.findIndex((function(t){return $e(t)&&(n=e,l=Ge(t),s.ObjectUtils.equals(n,l,ie));var n,l}));if(t>-1)return{v:t}},n=m.value.length-1;n>=0;n--)if(e=t())return e.v;return-1},et=function(){var e=Qe();return e<0?nt():e},tt=function(){var e=Qe();return e<0?lt():e},nt=function(){return gt.findIndex((function(e){return Ye(e)}))},lt=function(){return s.ObjectUtils.findLastIndex(gt,(function(e){return Ye(e)}))},rt=function(e){var t=e<gt.length-1?gt.slice(e+1).findIndex((function(e){return Ye(e)})):-1;return t>-1?t+e+1:e},it=function(e){var t=e>0?s.ObjectUtils.findLastIndex(gt.slice(0,e),(function(e){return Ye(e)})):-1;return t>-1?t:e},ot=function(e){X.current=(X.current||"")+e.key;var t=-1;s.ObjectUtils.isNotEmpty(X.current)&&(-1===(t=-1!==v?-1===(t=gt.slice(v).findIndex((function(e){return Ze(e)})))?gt.slice(0,v).findIndex((function(e){return Ze(e)})):t+v:gt.findIndex((function(e){return Ze(e)})))&&-1===v&&(t=et()),-1!==t&&at(e,t)),_.current&&clearTimeout(_.current),_.current=setTimeout((function(){X.current="",_.current=null}),500)},at=function(e,t){v!==t&&(h(t),Pe(e),m.selectOnFocus&&Oe(e,gt[t],!1))},ct=function(e,t){if(e.stopPropagation(),ut(e.currentTarget)){var n=m.value.filter((function(e){return!s.ObjectUtils.equals(e,t,ie)}));m.onRemove&&m.onRemove({originalEvent:e,value:n}),Ce(e,n,t)}},ut=function(e){var t=ne.current;if(!(t.clientWidth<t.scrollWidth))return!0;var n=e.closest('[data-pc-section="token"]'),l=window.getComputedStyle(t),r=window.getComputedStyle(n),i=t.clientWidth-parseFloat(l.paddingLeft)-parseFloat(l.paddingRight);return n.getBoundingClientRect().right+parseFloat(r.marginRight)-t.getBoundingClientRect().left<=i},st=function(){var e=/{(.*?)}/,n=m.selectedItemsLabel||t.localeOption("selectionMessage"),l=m.value?m.value.length:0;return e.test(n)?n.replace(n.match(e)[0],l+""):n},pt=function(){var e;return re||m.fixedPlaceholder?"":s.ObjectUtils.isNotEmpty(m.maxSelectedLabels)&&(null===(e=m.value)||void 0===e?void 0:e.length)>m.maxSelectedLabels?st():s.ObjectUtils.isArray(m.value)?m.value.reduce((function(e,t,n){return e+(0!==n?", ":"")+Ve(t)}),""):""},ft=function(e){return(e||[]).reduce((function(e,t,n){e.push($($({},t),{},{group:!0,index:n}));var l=Be(t);return l&&l.forEach((function(t){return e.push(t)})),e}),[])},dt=function(e){switch(e.code){case"Space":case"NumpadEnter":case"Enter":if(m.inline)break;Ce(e,[],[]),e.preventDefault(),e.stopPropagation()}},mt=function(e,t){switch(e.code){case"Space":case"NumpadEnter":case"Enter":if(m.inline)break;ct(e,t),e.preventDefault(),e.stopPropagation()}};O.useImperativeHandle(p,(function(){return{props:m,show:Fe,hide:Ue,focus:function(){return s.DomHandler.focus(Y.current)},getElement:function(){return J.current},getOverlay:function(){return te.current},getInput:function(){return Y.current}}})),l.useMountEffect((function(){Le()})),O.useEffect((function(){s.ObjectUtils.combinedRefs(Y,m.inputRef)}),[Y,m.inputRef]),O.useEffect((function(){!0===m.overlayVisible?Fe():!1===m.overlayVisible&&Ue()}),[m.overlayVisible]),l.useUpdateEffect((function(){G&&j&&le&&Le()}),[G,j,le]),l.useUnmountEffect((function(){s.ZIndexUtils.clear(te.current)}));var bt,vt,ht,yt,gt=function(){var e=m.optionGroupLabel?ft(m.options):m.options;if(le){var n=j.trim().toLocaleLowerCase(m.filterLocale),l=m.filterBy?m.filterBy.split(","):[m.optionLabel||"label"];if(m.optionGroupLabel){var r,i=[],o=Q(m.options);try{for(o.s();!(r=o.n()).done;){var a=r.value,c=t.FilterService.filter(Be(a),l,n,m.filterMatchMode,m.filterLocale);c&&c.length&&i.push($($({},a),w({},m.optionGroupChildren,c)))}}catch(e){o.e(e)}finally{o.f()}return ft(i)}return t.FilterService.filter(e,l,n,m.filterMatchMode,m.filterLocale)}return e}(),Ot=s.ObjectUtils.isNotEmpty(m.tooltip),xt=T.getOtherProps(m),It=s.ObjectUtils.reduceKeys(xt,s.DomHandler.ARIA_PROPS),Et=f({className:ue("triggerIcon")},ce("triggerIcon")),St=f({className:ue("trigger")},ce("trigger")),kt=m.loadingIcon?s.IconUtils.getJSXIcon(m.loadingIcon,$({},Et),{props:m}):O.createElement(i.SpinnerIcon,I({spin:!0},Et)),wt=m.dropdownIcon?s.IconUtils.getJSXIcon(m.dropdownIcon,$({},Et),{props:m}):O.createElement(r.ChevronDownIcon,Et),jt=O.createElement("div",St,m.loading?kt:wt),Dt=!m.inline&&(bt=m.value?m.value.length:0,vt=s.ObjectUtils.isNotEmpty(m.maxSelectedLabels)&&bt>m.maxSelectedLabels?st():m.selectedItemTemplate?re?s.ObjectUtils.getJSXElement(m.selectedItemTemplate):m.value.map((function(e,t){var n=s.ObjectUtils.getJSXElement(m.selectedItemTemplate,e);return O.createElement(O.Fragment,{key:t},n)})):"chip"!==m.display||re?pt():m.value.slice(0,m.maxSelectedLabels||bt).map((function(e,n){var l={context:{value:e,index:n}},r=Ve(e),i=r+"_"+n,o=f({"aria-label":t.localeOption("removeTokenIcon"),className:ue("removeTokenIcon"),onClick:function(t){return ct(t,e)},onKeyDown:function(t){return mt(t,e)},tabIndex:m.tabIndex||"0"},ce("removeTokenIcon",l)),c=!m.disabled&&(m.removeIcon?s.IconUtils.getJSXIcon(m.removeIcon,$({},o),{props:m}):O.createElement(a.TimesCircleIcon,o)),u=f({className:ue("token")},ce("token",l)),p=f({className:ue("tokenLabel")},ce("tokenLabel",l));return O.createElement("div",I({},u,{key:i}),O.createElement("span",p,r),c)})),ht=f({ref:ee,className:ue("labelContainer")},ce("labelContainer")),yt=f({ref:ne,className:ue("label",{empty:re})},ce("label")),O.createElement("div",ht,O.createElement("div",yt,vt||m.placeholder||m.emptyMessage||"empty"))),Ct=!m.inline&&function(){var e=f({className:ue("clearIcon"),"aria-label":t.localeOption("clear"),onClick:function(e){return Ce(e,[],[])},onKeyDown:function(e){return dt(e)},tabIndex:m.tabIndex||"0"},ce("clearIcon")),n=s.IconUtils.getJSXIcon(m.clearIcon||O.createElement(o.TimesIcon,e),$({},e),{props:m});return re||!m.showClear||m.disabled?null:n}(),Nt=f($($({ref:J,id:m.id,style:$($({},m.style),se("root")),className:s.classNames(m.className,ue("root",{focusedState:V,context:d,overlayVisibleState:G}))},xt),{},{onClick:function(e){m.inline||m.disabled||m.loading||Te(e)||Ae(e)||(G?Ue():Fe(),s.DomHandler.focus(Y.current),e.preventDefault()),E(!0)}}),T.getOtherProps(m),ce("root")),Pt=f({className:"p-hidden-accessible","data-p-hidden-accessible":!0},ce("hiddenInputWrapper")),Ft=f($({ref:Y,id:m.inputId,name:m.name,type:"text",onFocus:function(e){K(!0),m.onFocus&&m.onFocus(e)},onBlur:function(e){K(!1),m.onBlur&&m.onBlur(e)},onKeyDown:function(e){var t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowUp":if(m.inline)break;Ie(e);break;case"ArrowDown":if(m.inline)break;xe(e);break;case"Space":case"NumpadEnter":case"Enter":if(m.inline)break;Ee(e);break;case"Home":if(m.inline)break;Se(e),e.preventDefault();break;case"End":if(m.inline)break;ke(e),e.preventDefault();break;case"PageDown":je(e);break;case"PageUp":we(e);break;case"Escape":if(m.inline)break;Ue();break;case"Tab":De(e);break;case"ShiftLeft":case"ShiftRight":R(v);break;default:if("a"===e.key&&t){var n=gt.filter((function(e){return Ye(e)})).map((function(e){return Ge(e)}));Ce(e,n,n),e.preventDefault();break}!t&&s.ObjectUtils.isPrintableCharacter(e.key)&&(!G&&Fe(),ot(e),e.preventDefault())}E(!1)},role:"combobox","aria-expanded":G,disabled:m.disabled,tabIndex:m.disabled?-1:m.tabIndex,value:pt()},It),ce("input"));return O.createElement(O.Fragment,null,O.createElement("div",Nt,O.createElement("div",Pt,O.createElement("input",I({},Ft,{readOnly:!0}))),!m.inline&&O.createElement(O.Fragment,null,Dt,Ct,jt),O.createElement(Z,I({hostName:"MultiSelect",ref:te,visibleOptions:gt},m,{onClick:function(e){c.OverlayService.emit("overlay-click",{originalEvent:e,target:J.current})},onOverlayHide:Ue,filterValue:k,focusedOptionIndex:v,onFirstHiddenFocus:function(e){var t=e.relatedTarget===Y.current?s.DomHandler.getFirstFocusableElement(te.current,':not([data-p-hidden-focusable="true"])'):Y.current;s.DomHandler.focus(t)},onLastHiddenFocus:function(e){var t=e.relatedTarget===Y.current?s.DomHandler.getLastFocusableElement(te.current,':not([data-p-hidden-focusable="true"])'):Y.current;s.DomHandler.focus(t)},firstHiddenFocusableElementOnOverlay:z,lastHiddenFocusableElementOnOverlay:W,setFocusedOptionIndex:h,hasFilter:le,isValidOption:Ye,getOptionValue:Ge,updateModel:Ce,onFilterInputChange:function(e){var t=e.query;U(t),m.onFilter&&m.onFilter({originalEvent:e,filter:t})},onFilterKeyDown:function(e){switch(e.code){case"ArrowUp":if(m.inline)break;Ie(e);break;case"ArrowDown":if(m.inline)break;xe(e);break;case"NumpadEnter":case"Enter":if(m.inline)break;Ee(e);break;case"Home":if(m.inline)break;Se(e),e.preventDefault();break;case"End":if(m.inline)break;ke(e),e.preventDefault();break;case"Escape":if(m.inline)break;Ue();break;case"Tab":De(e)}},resetFilter:Ne,onCloseClick:function(e){Ue(),s.DomHandler.focus(Y.current),e.preventDefault(),e.stopPropagation()},onSelectAll:function(e){if(m.onSelectAll)m.onSelectAll(e);else{var t=null;if(e.checked)t=[];else{var n=gt.filter((function(e){return Ye(e)&&!Je(e)}));n&&(t=n.map((function(e){return Ge(e)})))}m.selectionLimit&&t&&t.length&&(t=t.slice(0,m.selectionLimit)),Ce(e.originalEvent,t,t)}},getOptionLabel:qe,getOptionRenderKey:function(e){return m.dataKey?s.ObjectUtils.resolveFieldData(e,m.dataKey):qe(e)},isOptionDisabled:Je,getOptionGroupChildren:Be,getOptionGroupLabel:function(e){return s.ObjectUtils.resolveFieldData(e,m.optionGroupLabel)},getOptionGroupRenderKey:function(e){return s.ObjectUtils.resolveFieldData(e,m.optionGroupLabel)},isSelected:He,getSelectedOptionIndex:function(){if(null!=m.value&&m.options){if(m.optionGroupLabel){var e=0,t=m.options.findIndex((function(t,n){return(e=n)&&-1!==Re(m.value,Be(t))}));return-1!==t?{group:e,option:t}:-1}return Re(m.value,m.options)}return-1},isAllSelected:function(){return m.onSelectAll?m.selectAll:!s.ObjectUtils.isEmpty(gt)&&!gt.filter((function(e){return!Je(e)&&Ye(e)})).some((function(e){return!He(e)}))},onOptionSelect:Oe,allowOptionSelect:be,in:G,onEnter:function(e){s.ZIndexUtils.set("overlay",te.current,d&&d.autoZIndex||x.default.autoZIndex,d&&d.zIndex.overlay||x.default.zIndex.overlay),s.DomHandler.addStyles(te.current,{position:"absolute",top:"0",left:"0"}),Le(),Pe(),e&&e()},onEntered:function(e){e&&e(),de(),m.onShow&&m.onShow()},onExit:function(){me()},onExited:function(){m.filter&&m.resetFilterOnHide&&Ne(),s.ZIndexUtils.clear(te.current),m.onHide&&m.onHide()},ptm:ce,cx:ue,sx:se,isUnstyled:pe,metaData:oe,changeFocusedOptionIndex:at}))),Ot&&O.createElement(u.Tooltip,I({target:J,content:m.tooltip,pt:ce("tooltip")},m.tooltipOptions)))})));ne.displayName="MultiSelect",exports.MultiSelect=ne;
